<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ads-github-tools by salewski</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>ads-github-tools</h1>
        <p>Manage a large number of GitHub repos (command line tools)</p>

        <p class="view"><a href="https://github.com/salewski/ads-github-tools">View the Project on GitHub <small>salewski/ads-github-tools</small></a></p>

        <ul>
          <li class="li-tarball-link"><span id="lbl-latest-tarball"><strong>Latest (released <code>2016-08-20</code>):</strong></span><br><a href="downloads/ads-github-tools-0.1.0.tar.gz"><code>ads-github-tools-0.1.0.tar.gz</code></a></li>
        </ul>

        <ul>
<!--
          <li><a href="https://github.com/salewski/ads-github-tools/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/salewski/ads-github-tools/tarball/master">Download <strong>TAR Ball</strong></a></li>
-->

          <li class="li-downloads-archive-link"><a href="downloads/"><strong>Downloads Archive</strong></a></li>

<!--
          <li><a href="https://github.com/salewski/ads-github-tools">View On <strong>GitHub</strong></a></li>
-->
        </ul>

      </header>
      <section>
        <h3>
<a id="welcome-to-ads-github-tools" class="anchor" href="#welcome-to-ads-github-tools" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>'<code>ads-github-pages</code>' project home page</h3>

<p>The <code>ads-github-tools</code> project provides command line tools for managing a
large number of GitHub repositories, motivated by the following two related
use cases:
<ol type="1">

  <li><p>When you work on multiple computers, keeping your local clones of the
         repos in synch can be a chore.</p>
  </li>
       
  <li><p>Similarly, when you have a large number of GitHub repos that are mostly
         forks of other repos, keeping your forks in synch with the upstream
         changes can be a chore.</p>
  </li>
</ol>

Enter the <code>ads-github-tools</code>.
</p>

<h2>Usage</h2>
<p>
Typical invocation involves only one or two commands, both invoked from the
parent directory of the user's directory that contains his GitHub projects
(forked and otherwise). The <tt>'ads-github-tools'</tt> author typcially runs
these two commands once or twice daily:
<pre>
    $ ads-github-fetch-all-upstreams -v -c

    $ ads-github-merge-all-upstreams -v -k -p
</pre>
</p>

<p>
Many users would prefer to run those commands from a crontab (or similar); the
author runs them manually because he's actively hacking on the tools and wants
to inspect the output.
</p>

<p>
At the time of writing (<tt>2016-08-20</tt>) there are five tools:
<ul>

  <li><p><strong><tt>ads-github-normalize-url</tt></strong> - Produces a
      "normalized" view of a given URL, suitable for use in generating an
      ID. Currently is a quick 'n dirty implementation optimized for this sole
      purpose, so there's no guarantee that the normalized variation of the URL
      will actually work</p>
  </li>

  <li><p><strong><tt>ads-github-hash-url</tt></strong> - Similar in spirit to
      <tt>git-hash-object(1)</tt>, this tool takes a (presumably normalized) URL
      and emits a checksum for it. Currently uses the SHA-3 256-bit algorithm
      variant.</p>
  </li>
  
  <li><p><strong><tt>ads-github-show-rate-limits</tt></strong> - Show user's
      GitHub API rate limits ("core" and "search").</p>
  </li>

  <li><p><strong><tt>ads-github-fetch-all-upstreams</tt></strong> - Operates
      on the working directories of a collection of GitHub-hosted git
      repositories. The user can specify one or more repositories explicitly to
      restrict operations to just those repos. Each that is found with an
     'upstream' remote defined will have `git fetch upstream` invoked in it.</p>

     <ul>
  
         <li><p>With the <tt>'--clone-if-missing'</tt> option, any of the
             user's GitHub repos for which there is not a git working directory
             beneath the current location will be cloned (using the
             <tt>'git-hub'</tt> tool's <code>clone</code> operation, which sets up
             the 'upstream' remote if the repo is a fork).</p>
         </li>

         <li><p>There's also an <tt>'--upstream-remote-if-missing'</tt> option
             that will add the 'upstream' remote on existing project working
             directories that do not have it (only if the project is a fork of
             another project, of course).</p>
         </li>
     </ul>
    
  <li><p><strong><tt>ads-github-merge-all-upstreams</tt></strong> - Operates
         on the working directories of a collection of GitHub-hosted git
         repositories. Each that is found with both 'origin' and 'upstream' remotes
         defined will have:
<pre>
    $ git merge --ff-only  upstream/&lt;DEFAULT_BRANCH_NAME&gt;
</pre>
         invoked in it. The user can specify one or more repositories
         explicitly to restrict operations to just those repos. The program is
         careful to sanity check the local repository before attempting any
         operations on it. Also, it will skip any repository for which the git
         index has any changes recorded. Will (temporarily) check out the
         default branch before merging (if the working directory happens to
         have some other branch checked out); will restore the originally
         checked out branch when done if the temporary switch was necessary.</p>

      <ul>
          <li><p>With one <tt>'--push'</tt> option, will invoke
              <code>'git push origin &lt;DEFAULT_BRANCH_NAME&gt;'</code>

              for each repo that has changes merged into it during the program
              invocation.</p>
          </li>

          <li><p>With two <tt>'--push'</tt> options, will invoke

               <code>'git push origin &lt;DEFAULT_BRANCH_NAME&gt;'</code>

               for each repo that is not being skipped over for some other
               reason (e.g. local changes in the working directory),
               regardless of whether changes are merged into it during the
               program invocation. This is useful for pushing changes that
               were merged but not pushed during earlier runs of the program
               invoked without the <tt>'--push'</tt> option.
               </p>
          </li>
      </ul>
  </li>
</ul>

The author is (casually) working on sketching out a caching system for results
from the GitHub API with the intent of making it easy to use from shell
scripts or similar. The first two scripts noted above are a step in that
direction.

Once the caching implementation is functional, the
<tt>'ads-github-fetch-all-upstreams'</tt> will be modified to use it, perhaps
via a set of intermediary tools. These tools will make use of the
<tt>'ETag:'</tt>, <tt>'Last-Modified:'</tt>, and <tt>'If-Modified-Since:'</tt>
HTTP headers both to avoid incurring unnecessary hits against the user's
GitHub API rate limit and to cut down on unnecessary retrieval of the same
data over and over.

The author's current thinking is that there will be three levels of tools:
<ol type="1">
  <li><p>low-level tools that store and retrieve objects from the cache, and related
    <ul>
      <li><tt>'ads-github-cache update'</tt> (similar in spirit to
          <tt>'apt-get update'</tt> and <tt>'apt-file update'</tt>)
      </li>

      <li><tt>'ads-github-cache put KEY [VALUE]'</tt></li>
      <li><tt>'ads-github-cache get KEY'</tt></li>
      <li><tt>'ads-github-normalize-url'</tt>></li>
      <li><tt>'ads-github-hash-url'</tt></li>
    </ul>
    </p>

    <p>In the above list, <tt>'KEY'</tt> is likey a "normalized" url, or
       perhaps just <em>any</em> url (and the tools would normalize the url
       behind the scenes to produce the "key").</p>
  </li>

  <li><p>mid-level tools that make use of the caching tools
    <ul>
      <li><tt>'ads-github-user-repos [--owner] [--repo] [--per-page=N] [--page=N]'</tt></li>
      <li><tt>'ads-github-org-repos [--org] [--repo]...'</tt></li>
      <li><tt>'ads-github-repos [--list-tags] [--list-branches] ...'</tt></li>
      <li><tt>'...'</tt></li>
    </ul>
    </p>
  </li>

  <li><p>high-level tools the build upon the first two levels above
    <ul>
      <li><tt>'ads-github-show-rate-limits'</tt></li>
      <li><tt>'ads-github-fetch-all-upstreams'</tt></li>
      <li><tt>'ads-github-merge-all-upstreams'</tt></li>
      <li><tt>'...'</tt></li>
    </ul>
    </p>
  </li>
</ol>

<p>
Installation should be as simple as:
<pre>
    $ ./configure   # add a --prefix=path/to/some/location to install someplace other than beneath /usr/local
    $ make
    $ make check    # optional, but encouraged
    $ make install
</pre>
</p>

<br></br>

<h2>License</h2>
<pre>
GPLv2+: GNU GPL version 2 or later &lt;http://gnu.org/licenses/gpl.html&gt;

Unless otherwise stated by a different license notice in a particular file,
all files in the `ads-github-tools' project are made available under the GNU
GPL version 2, or (at your option) any later version.

See the [COPYING] file for the full license.

Copyright (C) 2016 Alan D. Salewski *lt;salewski@att.net&gt;

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License along
    with this program; if not, write to the Free Software Foundation, Inc.,
    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
</pre>


<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>The <code>ads-github-tools</code> project code was written by <a href="https://github.com/salewski" class="user-mention">Alan D. Salewski</a>.</p>

<p>The <a href="https://github.com/">GitHub</a> project page is located at:
<ul>
    <li><a href="https://github.com/salewski/ads-github-tools">https://github.com/salewski/ads-github-tools</a></li>
</ul>
</p>





<!-- FIXME: add note and link to 'BUGS' file here -->

      </section>

      <footer>
        <h3><a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support or Contact</h3>
        <p>This project page is maintained (barely!) by <a href="https://github.com/salewski">Alan D. Salewski</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
